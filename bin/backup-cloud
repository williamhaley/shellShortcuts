#!/usr/bin/env bash

if [[ $EUID -eq 0 ]]; then
   echo "This script must **not** be run as root"
   exit 1
fi

rsync_opts="--delete-excluded --delete-after"

wrclone ${rsync_opts} sync "/home/will/Photographs/" "Backup:willhaley-backup/Photographs/"
wrclone ${rsync_opts} sync "/home/will/Music/"       "Backup:willhaley-backup/Music/"

# Encrypted
wrclone ${rsync_opts} sync "/home/will/Documents/" "BackupCrypt:willhaley-backup/Documents/"

if ! `findmnt -M "/mnt/backup-internal" >/dev/null`;
then
	echo "/mnt/backup-internal not mounted"
	exit 1
fi

# Unencrypted
wrclone ${rsync_opts} sync "/mnt/backup-internal/Software/"  "Backup:willhaley-backup/Software/"
