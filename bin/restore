#!/usr/bin/env bash

echo "Edit script manually to enable"
exit 1

if ! `findmnt -M "/mnt/backup-internal" >/dev/null`;
then
	echo "/mnt/backup-internal not mounted"
	exit 1
fi

interrupt()
{
	echo "Script interrupted."
	exit 1
}

trap interrupt INT

do_rsync()
{
	rsync_opts="--dry-run --delete-excluded --delete-after"

	wrsync ${rsync_opts} "$1" "$2"
}

do_rsync "/mnt/backup-internal/willhaley-backup/Photographs/" "/home/will/Photographs/"
do_rsync "/mnt/backup-internal/willhaley-backup/Music/"       "/home/will/Music/"
do_rsync "/mnt/backup-internal/willhaley-backup/Documents/"   "/home/will/Documents/"
do_rsync "/mnt/backup-internal/willhaley-backup/ssh/"         "/home/will/.ssh/"
do_rsync "/mnt/backup-internal/willhaley-backup/aws/"         "/home/will/.aws/"
do_rsync "/mnt/backup-internal/willhaley-backup/Desktop/"     "/home/will/Desktop/"
do_rsync "/mnt/backup-internal/willhaley-backup/Downloads/"   "/home/will/Downloads/"
do_rsync "/mnt/backup-internal/willhaley-backup/dev/"         "/home/will/dev/"
do_rsync "/mnt/backup-internal/willhaley-backup/electrum/"    "/home/will/.electrum/"
do_rsync "/mnt/backup-internal/willhaley-backup/bitcoin/"     "/home/will/.bitcoin/"

mkdir -p "/home/will/.config"
chown -R will:will "/home/will/.config"
do_rsync "/mnt/backup-internal/willhaley-backup/rclone/"      "/home/will/.config/rclone/"